"""
Admin API key bound to a User. For backward compatibility the Administrator field remains populated
when a corresponding Administrator exists for the User.
@since 3.5.0
"""
enum ApiKeyStatus {
    ACTIVE
    REVOKED
}

enum ApiKeyScope {
    ADMIN
    SHOP
}

type ApiKey implements Node {
    id: ID!
    createdAt: DateTime!
    updatedAt: DateTime!
    name: String!
    status: ApiKeyStatus!
    expiresAt: DateTime!
    revokedAt: DateTime
    lastUsedAt: DateTime
    version: Int!
    "User who owns this key"
    user: User!
    notes: String
    scope: ApiKeyScope!
}

"""
Returned when creating or rotating an API key.
Includes the raw secret once.
@since 3.5.0
"""
type ApiKeyWithSecret {
    apiKey: ApiKey!
    rawKey: String!
}

"""
List options for ApiKeys.
Supports pagination, sorting and filtering.
@since 3.5.0
"""
# generated by generateListOptions function
input ApiKeyListOptions {
    """
    Skip the first n results
    """
    skip: Int
    """
    Take n results
    """
    take: Int
    """
    Sort parameter for ApiKeys
    """
    sort: ApiKeySortParameter
    """
    Filter parameter for ApiKeys
    """
    filter: ApiKeyFilterParameter
}

"""
Filter parameters for querying ApiKeys.
Fields support the standard Vendure operators (equals, contains, in, etc.).
@since 3.5.0
"""
input ApiKeyFilterParameter {
    "Filter by id"
    id: IDOperators
    "Filter by key name"
    name: StringOperators
    "Filter by status ('ACTIVE' or 'REVOKED')"
    status: StringOperators
    "Filter by expiry timestamp"
    expiresAt: DateOperators
    "Filter by revocation timestamp"
    revokedAt: DateOperators
    "Filter by last-used timestamp"
    lastUsedAt: DateOperators
    "Filter by creation timestamp"
    createdAt: DateOperators
    "Filter by update timestamp"
    updatedAt: DateOperators
    "Filter by bound User id"
    userId: IDOperators
    "Filter by scope"
    scope: StringOperators
}

"""
Sort parameters for ApiKeys.
@since 3.5.0
"""
input ApiKeySortParameter {
    name: SortOrder
    status: SortOrder
    expiresAt: SortOrder
    revokedAt: SortOrder
    lastUsedAt: SortOrder
    createdAt: SortOrder
    updatedAt: SortOrder
    version: SortOrder
    scope: SortOrder
}

"""
Paginated list wrapper for ApiKeys.
@since 3.5.0
"""
type ApiKeyList implements PaginatedList {
    items: [ApiKey!]!
    totalItems: Int!
}
