type Query {
    products(options: ProductListOptions): ProductList!
    "Get a Product either by id or slug. If neither id nor slug is speicified, an error will result."
    product(id: ID, slug: String): Product
    "Get a ProductVariant by id"
    productVariant(id: ID!): ProductVariant
}

type Mutation {
    "Create a new Product"
    createProduct(input: CreateProductInput!): Product!

    "Update an existing Product"
    updateProduct(input: UpdateProductInput!): Product!

    "Delete a Product"
    deleteProduct(id: ID!): DeletionResponse!

    "Add an OptionGroup to a Product"
    addOptionGroupToProduct(productId: ID!, optionGroupId: ID!): Product!

    "Remove an OptionGroup from a Product"
    removeOptionGroupFromProduct(productId: ID!, optionGroupId: ID!): RemoveOptionGroupFromProductResult!

    "Create a set of ProductVariants based on the OptionGroups assigned to the given Product"
    createProductVariants(input: [CreateProductVariantInput!]!): [ProductVariant]!

    "Update existing ProductVariants"
    updateProductVariants(input: [UpdateProductVariantInput!]!): [ProductVariant]!

    "Delete a ProductVariant"
    deleteProductVariant(id: ID!): DeletionResponse!

    "Assigns Products to the specified Channel"
    assignProductsToChannel(input: AssignProductsToChannelInput!): [Product!]!

    "Removes Products from the specified Channel"
    removeProductsFromChannel(input: RemoveProductsFromChannelInput!): [Product!]!
}

type Product implements Node {
    enabled: Boolean!
    channels: [Channel!]!
}

type ProductVariant implements Node {
    enabled: Boolean!
    stockOnHand: Int!
    stockAllocated: Int!
    trackInventory: GlobalFlag!
    stockMovements(options: StockMovementListOptions): StockMovementList!
}

input StockMovementListOptions {
    type: StockMovementType
    skip: Int
    take: Int
}

# generated by generateListOptions function
input ProductListOptions

input ProductTranslationInput {
    id: ID
    languageCode: LanguageCode!
    name: String
    slug: String
    description: String
}

input CreateProductInput {
    featuredAssetId: ID
    assetIds: [ID!]
    facetValueIds: [ID!]
    translations: [ProductTranslationInput!]!
}

input UpdateProductInput {
    id: ID!
    enabled: Boolean
    featuredAssetId: ID
    assetIds: [ID!]
    facetValueIds: [ID!]
    translations: [ProductTranslationInput!]
}

input ProductVariantTranslationInput {
    id: ID
    languageCode: LanguageCode!
    name: String
}

input ProductOptionTranslationInput {
    id: ID
    languageCode: LanguageCode!
    name: String
}

input CreateProductVariantOptionInput {
    optionGroupId: ID!
    code: String!
    translations: [ProductOptionTranslationInput!]!
}

input CreateProductVariantInput {
    productId: ID!
    translations: [ProductVariantTranslationInput!]!
    facetValueIds: [ID!]
    sku: String!
    price: Int
    taxCategoryId: ID
    optionIds: [ID!]
    featuredAssetId: ID
    assetIds: [ID!]
    stockOnHand: Int
    trackInventory: GlobalFlag
}

input UpdateProductVariantInput {
    id: ID!
    enabled: Boolean
    translations: [ProductVariantTranslationInput!]
    facetValueIds: [ID!]
    sku: String
    taxCategoryId: ID
    price: Int
    featuredAssetId: ID
    assetIds: [ID!]
    stockOnHand: Int
    trackInventory: GlobalFlag
}

input AssignProductsToChannelInput {
    productIds: [ID!]!
    channelId: ID!
    priceFactor: Float
}

input RemoveProductsFromChannelInput {
    productIds: [ID!]!
    channelId: ID!
}

type ProductOptionInUseError implements ErrorResult {
    errorCode: ErrorCode!
    message: String!
    optionGroupCode: String!
    productVariantCount: Int!
}

union RemoveOptionGroupFromProductResult = Product | ProductOptionInUseError
