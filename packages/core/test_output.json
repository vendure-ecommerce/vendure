
> @vendure/core@3.3.6 e2e
> cross-env PACKAGE=core vitest --config ../../e2e-common/vitest.config.mts --run e2e/custom-fields.e2e-spec --testNamePattern=should apply default values when custom fields are explicitly set to null --reporter=json

{"numTotalTestSuites":10,"numPassedTestSuites":10,"numFailedTestSuites":0,"numPendingTestSuites":0,"numTotalTests":54,"numPassedTests":52,"numFailedTests":2,"numPendingTests":0,"numTodoTests":0,"startTime":1752737242693,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["","Custom fields"],"fullName":" Custom fields globalSettings.serverConfig.customFieldConfig","status":"skipped","title":"globalSettings.serverConfig.customFieldConfig","failureMessages":[]},{"ancestorTitles":["","Custom fields"],"fullName":" Custom fields globalSettings.serverConfig.entityCustomFields","status":"skipped","title":"globalSettings.serverConfig.entityCustomFields","failureMessages":[]},{"ancestorTitles":["","Custom fields"],"fullName":" Custom fields get nullable with no default","status":"skipped","title":"get nullable with no default","failureMessages":[]},{"ancestorTitles":["","Custom fields"],"fullName":" Custom fields get entity with localeString only","status":"skipped","title":"get entity with localeString only","failureMessages":[]},{"ancestorTitles":["","Custom fields"],"fullName":" Custom fields get fields with default values","status":"skipped","title":"get fields with default values","failureMessages":[]},{"ancestorTitles":["","Custom fields"],"fullName":" Custom fields update non-nullable field","status":"skipped","title":"update non-nullable field","failureMessages":[]},{"ancestorTitles":["","Custom fields"],"fullName":" Custom fields throws on attempt to update readonly field","status":"skipped","title":"throws on attempt to update readonly field","failureMessages":[]},{"ancestorTitles":["","Custom fields"],"fullName":" Custom fields throws on attempt to update readonly field when no other custom fields defined","status":"skipped","title":"throws on attempt to update readonly field when no other custom fields defined","failureMessages":[]},{"ancestorTitles":["","Custom fields"],"fullName":" Custom fields throws on attempt to create readonly field","status":"skipped","title":"throws on attempt to create readonly field","failureMessages":[]},{"ancestorTitles":["","Custom fields"],"fullName":" Custom fields string length allows long strings","status":"skipped","title":"string length allows long strings","failureMessages":[]},{"ancestorTitles":["","Custom fields"],"fullName":" Custom fields string length allows long localeStrings","status":"skipped","title":"string length allows long localeStrings","failureMessages":[]},{"ancestorTitles":["","Custom fields","validation"],"fullName":" Custom fields validation invalid string","status":"skipped","title":"invalid string","failureMessages":[]},{"ancestorTitles":["","Custom fields","validation"],"fullName":" Custom fields validation invalid string option","status":"skipped","title":"invalid string option","failureMessages":[]},{"ancestorTitles":["","Custom fields","validation"],"fullName":" Custom fields validation valid string option","status":"skipped","title":"valid string option","failureMessages":[]},{"ancestorTitles":["","Custom fields","validation"],"fullName":" Custom fields validation nullable string option with null","status":"skipped","title":"nullable string option with null","failureMessages":[]},{"ancestorTitles":["","Custom fields","validation"],"fullName":" Custom fields validation invalid localeString","status":"skipped","title":"invalid localeString","failureMessages":[]},{"ancestorTitles":["","Custom fields","validation"],"fullName":" Custom fields validation invalid int","status":"skipped","title":"invalid int","failureMessages":[]},{"ancestorTitles":["","Custom fields","validation"],"fullName":" Custom fields validation invalid float","status":"skipped","title":"invalid float","failureMessages":[]},{"ancestorTitles":["","Custom fields","validation"],"fullName":" Custom fields validation invalid datetime","status":"skipped","title":"invalid datetime","failureMessages":[]},{"ancestorTitles":["","Custom fields","validation"],"fullName":" Custom fields validation invalid validate function with string","status":"skipped","title":"invalid validate function with string","failureMessages":[]},{"ancestorTitles":["","Custom fields","validation"],"fullName":" Custom fields validation invalid validate function with localized string","status":"skipped","title":"invalid validate function with localized string","failureMessages":[]},{"ancestorTitles":["","Custom fields","validation"],"fullName":" Custom fields validation invalid list field","status":"skipped","title":"invalid list field","failureMessages":[]},{"ancestorTitles":["","Custom fields","validation"],"fullName":" Custom fields validation valid list field","status":"skipped","title":"valid list field","failureMessages":[]},{"ancestorTitles":["","Custom fields","validation"],"fullName":" Custom fields validation can inject providers into validation fn","status":"skipped","title":"can inject providers into validation fn","failureMessages":[]},{"ancestorTitles":["","Custom fields","validation"],"fullName":" Custom fields validation supports async validation fn","status":"skipped","title":"supports async validation fn","failureMessages":[]},{"ancestorTitles":["","Custom fields","validation"],"fullName":" Custom fields validation supports validation of relation types","status":"skipped","title":"supports validation of relation types","failureMessages":[]},{"ancestorTitles":["","Custom fields","validation"],"fullName":" Custom fields validation handles well graphql internal fields","status":"skipped","title":"handles well graphql internal fields","failureMessages":[]},{"ancestorTitles":["","Custom fields","validation","validation of OrderLine custom fields"],"fullName":" Custom fields validation validation of OrderLine custom fields addItemToOrder","status":"skipped","title":"addItemToOrder","failureMessages":[]},{"ancestorTitles":["","Custom fields","validation","validation of OrderLine custom fields"],"fullName":" Custom fields validation validation of OrderLine custom fields adjustOrderLine","status":"skipped","title":"adjustOrderLine","failureMessages":[]},{"ancestorTitles":["","Custom fields","public access"],"fullName":" Custom fields public access non-public throws for Shop API","status":"skipped","title":"non-public throws for Shop API","failureMessages":[]},{"ancestorTitles":["","Custom fields","public access"],"fullName":" Custom fields public access publicly accessible via Shop API","status":"skipped","title":"publicly accessible via Shop API","failureMessages":[]},{"ancestorTitles":["","Custom fields","public access"],"fullName":" Custom fields public access internal throws for Shop API","status":"skipped","title":"internal throws for Shop API","failureMessages":[]},{"ancestorTitles":["","Custom fields","public access"],"fullName":" Custom fields public access internal throws for Admin API","status":"skipped","title":"internal throws for Admin API","failureMessages":[]},{"ancestorTitles":["","Custom fields","public access"],"fullName":" Custom fields public access does not leak private fields via JSON type","status":"skipped","title":"does not leak private fields via JSON type","failureMessages":[]},{"ancestorTitles":["","Custom fields","sort & filter"],"fullName":" Custom fields sort & filter can sort by custom fields","status":"skipped","title":"can sort by custom fields","failureMessages":[]},{"ancestorTitles":["","Custom fields","sort & filter"],"fullName":" Custom fields sort & filter can sort by localeString custom fields","status":"skipped","title":"can sort by localeString custom fields","failureMessages":[]},{"ancestorTitles":["","Custom fields","sort & filter"],"fullName":" Custom fields sort & filter can filter by custom fields","status":"skipped","title":"can filter by custom fields","failureMessages":[]},{"ancestorTitles":["","Custom fields","sort & filter"],"fullName":" Custom fields sort & filter can filter by localeString custom fields","status":"skipped","title":"can filter by localeString custom fields","failureMessages":[]},{"ancestorTitles":["","Custom fields","sort & filter"],"fullName":" Custom fields sort & filter can filter by custom list fields","status":"skipped","title":"can filter by custom list fields","failureMessages":[]},{"ancestorTitles":["","Custom fields","sort & filter"],"fullName":" Custom fields sort & filter cannot sort by custom list fields","status":"skipped","title":"cannot sort by custom list fields","failureMessages":[]},{"ancestorTitles":["","Custom fields","sort & filter"],"fullName":" Custom fields sort & filter cannot filter by internal field in Admin API","status":"skipped","title":"cannot filter by internal field in Admin API","failureMessages":[]},{"ancestorTitles":["","Custom fields","sort & filter"],"fullName":" Custom fields sort & filter cannot filter by internal field in Shop API","status":"skipped","title":"cannot filter by internal field in Shop API","failureMessages":[]},{"ancestorTitles":["","Custom fields","product on productVariant entity"],"fullName":" Custom fields product on productVariant entity is translated","status":"skipped","title":"is translated","failureMessages":[]},{"ancestorTitles":["","Custom fields","unique constraint"],"fullName":" Custom fields unique constraint setting unique value works","status":"skipped","title":"setting unique value works","failureMessages":[]},{"ancestorTitles":["","Custom fields","unique constraint"],"fullName":" Custom fields unique constraint setting conflicting value fails","status":"skipped","title":"setting conflicting value fails","failureMessages":[]},{"ancestorTitles":["","Custom fields"],"fullName":" Custom fields on ProductVariantPrice","status":"skipped","title":"on ProductVariantPrice","failureMessages":[]},{"ancestorTitles":["","Custom fields","default values on create"],"fullName":" Custom fields default values on create should apply default values when creating new product without custom fields","status":"skipped","title":"should apply default values when creating new product without custom fields","failureMessages":[]},{"ancestorTitles":["","Custom fields","default values on create"],"fullName":" Custom fields default values on create should apply default values when creating new product with partial custom fields","status":"skipped","title":"should apply default values when creating new product with partial custom fields","failureMessages":[]},{"ancestorTitles":["","Custom fields","default values on create"],"fullName":" Custom fields default values on create should apply default values when creating new product with empty custom fields object","status":"skipped","title":"should apply default values when creating new product with empty custom fields object","failureMessages":[]},{"ancestorTitles":["","Custom fields","default values on create"],"fullName":" Custom fields default values on create should apply default values when custom fields are explicitly set to null","status":"failed","title":"should apply default values when custom fields are explicitly set to null","duration":15,"failureMessages":["expected null to be 'hello' // Object.is equality"],"location":{"line":1377,"column":66}},{"ancestorTitles":["","Custom fields","default values on create"],"fullName":" Custom fields default values on create should apply default values for non-nullable fields","status":"skipped","title":"should apply default values for non-nullable fields","failureMessages":[]},{"ancestorTitles":["","Custom fields","Customer custom fields default values"],"fullName":" Custom fields Customer custom fields default values should apply default values when creating customer without custom fields","status":"skipped","title":"should apply default values when creating customer without custom fields","failureMessages":[]},{"ancestorTitles":["","Custom fields","Customer custom fields default values"],"fullName":" Custom fields Customer custom fields default values should apply default values when creating customer with empty custom fields","status":"skipped","title":"should apply default values when creating customer with empty custom fields","failureMessages":[]},{"ancestorTitles":["","Custom fields","Customer custom fields default values"],"fullName":" Custom fields Customer custom fields default values should apply default values when custom fields are explicitly set to null","status":"failed","title":"should apply default values when custom fields are explicitly set to null","duration":5,"failureMessages":["Cannot read properties of undefined (reading 'input')"],"location":{"line":96,"column":19}}],"startTime":1752737244182,"endTime":1752737244202,"status":"failed","message":"","name":"/Users/micha/Development/vendure/vendure/packages/core/e2e/custom-fields.e2e-spec.ts"}]}
npm error Lifecycle script `e2e` failed with error:
npm error code 1
npm error path /Users/micha/Development/vendure/vendure/packages/core
npm error workspace @vendure/core@3.3.6
npm error location /Users/micha/Development/vendure/vendure/packages/core
npm error command failed
npm error command sh -c cross-env PACKAGE=core vitest --config ../../e2e-common/vitest.config.mts --run e2e/custom-fields.e2e-spec '--testNamePattern=should apply default values when custom fields are explicitly set to null' --reporter=json
