---
title: "AssetStorageStrategy"
weight: 10
date: 2023-07-04T11:02:11.697Z
showtoc: true
generated: true
---
<!-- This file was generated from the Vendure source. Do not modify. Instead, re-run the "docs:build" script -->

# AssetStorageStrategy
<div class="symbol">


# AssetStorageStrategy

{{< generation-info sourceFile="packages/core/src/config/asset-storage-strategy/asset-storage-strategy.ts" sourceLine="13" packageName="@vendure/core">}}

The AssetPersistenceStrategy determines how Asset files are physically stored
and retrieved.

## Signature

```TypeScript
interface AssetStorageStrategy extends InjectableStrategy {
  writeFileFromBuffer(fileName: string, data: Buffer): Promise<string>;
  writeFileFromStream(fileName: string, data: Stream): Promise<string>;
  readFileToBuffer(identifier: string): Promise<Buffer>;
  readFileToStream(identifier: string): Promise<Stream>;
  deleteFile(identifier: string): Promise<void>;
  fileExists(fileName: string): Promise<boolean>;
  toAbsoluteUrl?(request: Request, identifier: string): string;
}
```
## Extends

 * <a href='/typescript-api/common/injectable-strategy#injectablestrategy'>InjectableStrategy</a>


## Members

### writeFileFromBuffer

{{< member-info kind="method" type="(fileName: string, data: Buffer) => Promise&#60;string&#62;"  >}}

{{< member-description >}}Writes a buffer to the store and returns a unique identifier for that
file such as a file path or a URL.{{< /member-description >}}

### writeFileFromStream

{{< member-info kind="method" type="(fileName: string, data: Stream) => Promise&#60;string&#62;"  >}}

{{< member-description >}}Writes a readable stream to the store and returns a unique identifier for that
file such as a file path or a URL.{{< /member-description >}}

### readFileToBuffer

{{< member-info kind="method" type="(identifier: string) => Promise&#60;Buffer&#62;"  >}}

{{< member-description >}}Reads a file based on an identifier which was generated by the writeFile
method, and returns the as a Buffer.{{< /member-description >}}

### readFileToStream

{{< member-info kind="method" type="(identifier: string) => Promise&#60;Stream&#62;"  >}}

{{< member-description >}}Reads a file based on an identifier which was generated by the writeFile
method, and returns the file as a Stream.{{< /member-description >}}

### deleteFile

{{< member-info kind="method" type="(identifier: string) => Promise&#60;void&#62;"  >}}

{{< member-description >}}Deletes a file from the storage.{{< /member-description >}}

### fileExists

{{< member-info kind="method" type="(fileName: string) => Promise&#60;boolean&#62;"  >}}

{{< member-description >}}Check whether a file with the given name already exists. Used to avoid
naming conflicts before saving the file.{{< /member-description >}}

### toAbsoluteUrl

{{< member-info kind="method" type="(request: Request, identifier: string) => string"  >}}

{{< member-description >}}Convert an identifier as generated by the writeFile... methods into an absolute
url (if it is not already in that form). If no conversion step is needed
(i.e. the identifier is already an absolute url) then this method
should not be implemented.{{< /member-description >}}


</div>
